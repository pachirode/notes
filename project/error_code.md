# 错误处理

- 业务 `Code` 码标识
    - 可以精确定位到错误
- 内外区别
    - 对内对外分别展示不同的错误信息

### 设计方式

- 无论请求是否成功都返回 `200`，错误数据放在 `HTTP body` 中
- 发生错误返回 `404`，并在 `HTTP body` 返回错误信息

### 错误码

- 需要根据业务码判断出错误类型
- 请求出错时，可以通过状态码感知错误
- 返回详细信息
  - 业务代码
  - 错误信息
  - 参考文档
- 错误信息
  - 不能包含敏感信息
  - 内部需要有更加信息的错误信息
- 数据格式固定
- 错误信息要简洁

### 业务代码
- 方便定位问题
- 错误代码本身可以看出部分问题
- 扩充常用错误码

### 设计规范
- 对外的暴露的错误信息，统一大写开头，结尾不加 `.`
- 对外暴露的错误要简洁，并能说明问题
- 对外暴露的说明，显示怎么做

### 功能
- 显示错误堆栈
- 支持不同的打印结果
- 支持 `Wrap/Unwarp`，在已有的错误上，追加一些新的信息
- 支持 `Is`，用来判定错误类型
- 支持 `As`
- 创建方式
  - 格式化创建
  - 非格式化创建